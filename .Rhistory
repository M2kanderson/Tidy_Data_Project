#Separate into 30 matrices, one for each subject
colnames(X_test) <- features[,2]
colnames(X_train) <- features[,2]
rownames(X_train) <- y_train[1]
y_train
X-train
X_train
y_train[1]
rownames(X_train) <- y_train[1]
?rownames
y_train[1]
names(y_train)
y_train$V1
rownames(X_train) <- y_train$V1
X_train<- cbind(y_train$V1,X_train)
head(X_train)
X_train$'y_train$V1'
colnames(X_train$'y_train$V1')<- c("Subject")
colnames(X_train) <- c("Subject",features[,2])
names(X_train)
X_train
head(X_train)
features[,2]
features
c("Subject",features[,2])
names(features)
colnames(X_train) <- c("Subject",features$V2)
names(X_train)
features$V2
colnames(X_train) <- c("Subject","features$V2")
names(X_train)
c("Subject","features$V2")
colnames(X_train) <- c("Subject",features$V2)
c("Subject",features$V2)
features$V2
c("Subject",features$V1)
c("Subject",as.character(features$V2))
colnames(X_train) <- c("Subject",as.character(features$V2))
names(X_train)
X_train$Subject
?recode
colnames(X_train) <- c("Activity",as.character(features$V2))
names(colnames())
names(X_train
)
activity_labels
recode(X_train$Activity, "1=activity_labels$V2[1]")
activity_labels$V2[1]
recode(X_train$Activity, "1='WALKING'")
recode(X_train$Activity, "1=as.character(activitity_labels$V2[1])")
recode(X_train$Activity, "1=as.character(activity_labels$V2[1])")
recode(X_train$Activity, "as.character(activity_labels$V1)=as.character(activity_labels$V2)")
recode(X_train$Activity, "as.character(activity_labels$V1[1])=as.character(activity_labels$V2[1])")
recode(X_train$Activity, "1=as.character(activity_labels$V2[1])")
recode(X_train$Activity, "1=as.character(activity_labels$V2[1]);2=as.character(activity_labels$V2[2])")
recode(X_train$Activity, "1=as.character(activity_labels$V2[1]);2=as.character(activity_labels$V2[2]);3=as.character(activity_labels$V2[3])")
recode(X_train$Activity, "1=as.character(activity_labels$V2[1]);2=as.character(activity_labels$V2[2]);3=as.character(activity_labels$V2[3]);4=as.character(activity_labels$V2[4])")
recode(X_train$Activity, "1=as.character(activity_labels$V2[1]);2=as.character(activity_labels$V2[2]);3=as.character(activity_labels$V2[3]);4=as.character(activity_labels$V2[4])";5=as.character(activity_labels$V2[5]))
recode(X_train$Activity, "1=as.character(activity_labels$V2[1]);2=as.character(activity_labels$V2[2]);3=as.character(activity_labels$V2[3]);4=as.character(activity_labels$V2[4]);5=as.character(activity_labels$V2[5]);6=as.character(activity_labels$V2[6])")
X_train
X_train$Activity
X_train$Activity<-recode(X_train$Activity, "1=as.character(activity_labels$V2[1]);2=as.character(activity_labels$V2[2]);3=as.character(activity_labels$V2[3]);4=as.character(activity_labels$V2[4])";5=as.character(activity_labels$V2[5]))
X_train$Activity<-recode(X_train$Activity, "1=as.character(activity_labels$V2[1]);2=as.character(activity_labels$V2[2]);3=as.character(activity_labels$V2[3]);4=as.character(activity_labels$V2[4]);5=as.character(activity_labels$V2[5]);6=as.character(activity_labels$V2[6])")
X_train$Activity
subject_train
names(subject_train)
install.packages("car")
library(car)
X_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/X_test.txt")
y_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/y_test.txt")
subject_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/subject_test.txt")
X_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/X_train.txt")
y_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/y_train.txt")
subject_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/subject_train.txt")
features <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/features.txt")
activity_labels <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/activity_labels.txt")
dim(X_test) #readings for each subject and activity for test group
dim(y_test) #activity for each test for the test group
dim(subject_test) #the subjects for each test for the test group (9 people: 2,4,9,10,12,13,18,20,24)
dim(X_train) #readings for each subject and activity for test group
dim(y_train) #activity for each test for the train group (6 activities)
dim(subject_train) #the subjects for each test for the train group (21 people: 1,3,5-8,11,14-17,19,21-23,25-30)
dim(features) #561 features measured
#Use 'features' for column labels
#Use 'y_test' and 'y_train' and 'activity labels' for row labels
#Get mean and standard deviation for each feature, activity, and subject
#Separate into 30 matrices, one for each subject
colnames(X_test) <- features[,2]
X_train<- cbind(subject_train$V1,y_train$V1,X_train)
colnames(X_train) <- c("Subject","Activity",as.character(features$V2))
X_train$Activity<-recode(X_train$Activity, "1=as.character(activity_labels$V2[1]);2=as.character(activity_labels$V2[2]);3=as.character(activity_labels$V2[3]);4=as.character(activity_labels$V2[4]);5=as.character(activity_labels$V2[5]);6=as.character(activity_labels$V2[6])")
install.packages("car")
X_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/X_test.txt")
y_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/y_test.txt")
subject_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/subject_test.txt")
X_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/X_train.txt")
y_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/y_train.txt")
subject_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/subject_train.txt")
features <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/features.txt")
activity_labels <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/activity_labels.txt")
dim(X_test) #readings for each subject and activity for test group
dim(y_test) #activity for each test for the test group
dim(subject_test) #the subjects for each test for the test group (9 people: 2,4,9,10,12,13,18,20,24)
dim(X_train) #readings for each subject and activity for test group
dim(y_train) #activity for each test for the train group (6 activities)
dim(subject_train) #the subjects for each test for the train group (21 people: 1,3,5-8,11,14-17,19,21-23,25-30)
dim(features) #561 features measured
#Use 'features' for column labels
#Use 'y_test' and 'y_train' and 'activity labels' for row labels
#Get mean and standard deviation for each feature, activity, and subject
#Separate into 30 matrices, one for each subject
colnames(X_test) <- features[,2]
X_train<- cbind(subject_train$V1,y_train$V1,X_train)
colnames(X_train) <- c("Subject","Activity",as.character(features$V2))
X_train$Activity<-recode(X_train$Activity, "1=as.character(activity_labels$V2[1]);2=as.character(activity_labels$V2[2]);3=as.character(activity_labels$V2[3]);4=as.character(activity_labels$V2[4]);5=as.character(activity_labels$V2[5]);6=as.character(activity_labels$V2[6])")
names(X_train)
head(X_train)
X_test<- cbind(subject_test$V1,y_test$V1,X_test)
colnames(X_test) <- c("Subject","Activity",as.character(features$V2))
head(X_test)
X_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/X_test.txt")
y_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/y_test.txt")
subject_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/subject_test.txt")
X_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/X_train.txt")
y_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/y_train.txt")
subject_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/subject_train.txt")
features <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/features.txt")
activity_labels <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/activity_labels.txt")
dim(X_test) #readings for each subject and activity for test group
dim(y_test) #activity for each test for the test group
dim(subject_test) #the subjects for each test for the test group (9 people: 2,4,9,10,12,13,18,20,24)
dim(X_train) #readings for each subject and activity for test group
dim(y_train) #activity for each test for the train group (6 activities)
dim(subject_train) #the subjects for each test for the train group (21 people: 1,3,5-8,11,14-17,19,21-23,25-30)
dim(features) #561 features measured
#Use 'features' for column labels
#Use 'y_test' and 'y_train' and 'activity labels' for row labels
#Get mean and standard deviation for each feature, activity, and subject
#Separate into 30 matrices, one for each subject
X_test<- cbind(subject_test$V1,y_test$V1,X_test)
colnames(X_test) <- c("Subject","Activity",as.character(features$V2))
X_train<- cbind(subject_train$V1,y_train$V1,X_train)
colnames(X_train) <- c("Subject","Activity",as.character(features$V2))
merge(X_train,X_test)
?merge
merge(X_train,X_test, all=TRUE)
merge(X_train,X_test, by="Subject",all=TRUE)
merge(X_train,X_test, by=colnames(X_test),all=TRUE)
merge(X_train,X_test, by.x=colnames(X_train), by.y=colnames(X_test),all=TRUE)
names(X_train)
X_train$`tBodyAcc-mean()-X`
rbind(X_train,y_train)
dim(X_train)
dim(y_train)
rbind(X_train,X_test)
mergedData<-rbind(X_train,X_test)
dim(mergedData)
mergedData$Activity<-recode(mergedData$Activity, "1=as.character(activity_labels$V2[1]);2=as.character(activity_labels$V2[2]);3=as.character(activity_labels$V2[3]);4=as.character(activity_labels$V2[4]);5=as.character(activity_labels$V2[5]);6=as.character(activity_labels$V2[6])")
mergedData$Activity
summary(mergedData)
?summary
?filter
filter(mergedData, mergedData$Subject=='1')
filter(mergedData, mergedData$Subject==1)
Sub1<- mergedData$Subject[mergedData$Subject==1]
Sub1
Sub1<- mergedData[mergedData$Subject==1]
Sub1
head(Sub1)
Sub1<- mergedData[mergedData$Subject==1&&mergedData$Activity=="WALKING"]
Sub1
Sub1<- mergedData[mergedData$Subject==1, by = "Acitivity"]
Sub1<- mergedData[mergedData$Subject==1, by = Acitivity]
Sub1<- mergedData[mergedData$Subject==1, by = mergedData$Acitivity]
Sub1[mean(Sub1), na.rm, by=Activity]
Sub2<- mergedData[Sub1$Activity=="WALKING"]
head(Sub2)
Sub2
sub1$Activity
Sub1$Activity
head(Sub1)
Sub1<- mergedData[mergedData$Subject==1]
dim(Sub1)
Sub2<- mergedData[Sub1$Activity=="WALKING"]
names(Sub1)
Sub2<- Sub1[Sub1$Activity=="WALKING"]
Sub1$Activity
Sub2<- Sub1[Sub1$Activity=="WALKING"]
Sub1<- mergedData[mergedData$Activity="WALKING"]
Sub1<- mergedData[mergedData$Activity=="WALKING"]
Sub1<- mergedData[mergedData$Activity=="SITTING"]
?select
SUb1 <- mergedData[mergedData$Activity %in% c("WALKING")]
mergedData$Activity
SUb1 <- mergedData[mergedData$Activity %in% c("WALKING")]
names(mergedData)
filter(mergedData, Subject == 1)
library(dplyr)
install.packages("dplyr")
library(dplyr)
install.packages("dplyr")
library(dplyr)
filter(mergedData, Subject == 1)
dim(mergedData)
length(unique(mergedData))
names(mergedData)
filter(mergedData, Subject == '1')
unique(names(mergedData))
!unique(names(mergedData))
names(mergedData)[!unique(names(mergedData))]
mergedData==unique(names(mergedData))
names(mergedData)==unique(names(mergedData))
names(mergedData)
X_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/X_test.txt")
y_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/y_test.txt")
subject_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/subject_test.txt")
X_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/X_train.txt")
y_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/y_train.txt")
subject_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/subject_train.txt")
features <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/features.txt")
activity_labels <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/activity_labels.txt")
dim(X_test) #readings for each subject and activity for test group
names(X_test)
dim(featrues)
dim(features)
features
features%V2
features$V2
unique(features$V2)
?grepl
extract_features <- grep1("mean|std", features)
library(reshape2)
extract_features <- grep1("mean|std", features)
library(data.table)
extract_features <- grep1("mean|std", features)
extract_features <- grepl("mean|std", features)
extract_features
features
extract_features <- grepl("mean" | "std", features)
extract_features <- grepl("mean", features)
extract_features
extract_features <- grepl("mean", as.character(features)
)
extract_features
features[,2]
names(features)
extract_features <- grepl("mean", as.character(features$V2))
extract_features
X_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/X_test.txt")
y_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/y_test.txt")
subject_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/subject_test.txt")
X_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/X_train.txt")
y_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/y_train.txt")
subject_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/subject_train.txt")
features <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/features.txt")
activity_labels <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/activity_labels.txt")
dim(X_test) #readings for each subject and activity for test group
dim(y_test) #activity for each test for the test group
dim(subject_test) #the subjects for each test for the test group (9 people: 2,4,9,10,12,13,18,20,24)
dim(X_train) #readings for each subject and activity for test group
dim(y_train) #activity for each test for the train group (6 activities)
dim(subject_train) #the subjects for each test for the train group (21 people: 1,3,5-8,11,14-17,19,21-23,25-30)
dim(features) #561 features measured
#Extract only the features that use "mean" or "std" in their names
extract_feat <- grepl("mean", as.character(features$V2))
x_test <- x_test[extract_feat]
x_train <- x_train[extract_feat]
X_test <- X_test[extract_feat]
X_train <- X_train[extract_feat]
names(X_test)
X_test
y_test
activity_labels
test_act_labels <- activity_labels[y_train$V1]
y_train$V1
y_train[,1]
test_act_labels <- activity_labels[y_train$V1]
test_act_labels <- activity_labels[y_train[,1]]
test_act_labels <- activity_labels$V2[y_train$V1]
test_act_labels
t_test
y_test
names(test_act_labels) <- c("Activity")
test_act_labels
test_act_labels <- activity_labels$V2[y_train$V1]
test_act_labels
colnames(test_act_labels) <- c("Activity")
test_act_labels <- activity_labels$V2[y_test$V1]
test_act_labels
train_data <- c(subject_test,train_act_labels,X_train)
train_act_labels <- activity_labels$V2[y_train$V1]
train_data <- c(subject_test,train_act_labels,X_train)
train_data
head(train_data)
train_data <- cbind(subject_test,train_act_labels,X_train)
train_data <- cbind(subject_train,train_act_labels,X_train)
head(train_data)
colnames(X_test) <- c("Subject","Activity",as.character(features$V2[extract_feat]))
colnames(train_data) <- c("Subject","Activity",as.character(features$V2[extract_feat]))
head(train_data)
test_data <- cbind(subject_test,test_act_labels,X_test)
head(test_data)
colnames(test_data) <- c("Subject","Activity",as.character(features$V2[extract_feat]))
head(test_data)
rbind(train_data, test_data)
mergedData<-rbind(train_data, test_data)
?melt
id_labels <- c("Subject", "Activity")
names(mergedData)
data_labels <- setdiff(colnames(mergedData), id_labels)
melt_data <- melt(mergedData, id= id_labels, measure.vars = data_labels)
melt_data
melt_data <- melt(mergedData, id= c("Subject","Activity"))
melt_data
melt_data <- melt(mergedData, id= id_labels, measure.vars = data_labels)
melt_data
melt_data <- melt(mergedData, id= c("Subject","Activity"))
names(melt_data)
meltedData <- melt(mergedData, id= c("Subject","Activity"))
averageData <- cast(meltedData,Subject~variable, mean)
?cast
library(reshape2)
averageData <- cast(meltedData,Subject~variable, mean)
averageData <- dcast(meltedData,Subject~variable, mean)
averageData
?dcast
averageData <- dcast(meltedData,Subject+Activity~variable, mean)
averageData
length(mergedData$Subject)
length(unique(mergedData$Subject))
length(unique(mergedData$Activity))
activity_labels
features
#Read test Data
X_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/X_test.txt") #readings for each subject and activity for test group
y_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/y_test.txt") #activity for each test for the test group
subject_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/subject_test.txt") #the subjects for each test for the test group (9 people: 2,4,9,10,12,13,18,20,24)
#Read train Data
X_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/X_train.txt") #readings for each subject and activity for test group
y_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/y_train.txt") #activity for each test for the train group (6 activities)
subject_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/subject_train.txt") #the subjects for each test for the train group (21 people: 1,3,5-8,11,14-17,19,21-23,25-30)
#Read labels
features <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/features.txt") #561 features measured
activity_labels <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/activity_labels.txt") #6 Activities: WALKING, WALKING_UPSTAIRS, WALKING_DOWNSTAIRS, SITTING, STANDING, AND LAYING
#Extract only the features that use "mean" or "std" in their names
extract_feat <- grepl("mean | std", as.character(features$V2))
X_test <- X_test[extract_feat]
X_train <- X_train[extract_feat]
#Create Activity Labels
train_act_labels <- activity_labels$V2[y_train$V1]
test_act_labels <- activity_labels$V2[y_test$V1]
#Bind data
train_data <- cbind(subject_train,train_act_labels,X_train)
test_data <- cbind(subject_test,test_act_labels,X_test)
#label measurements
colnames(train_data) <- c("Subject","Activity",as.character(features$V2[extract_feat]))
colnames(test_data) <- c("Subject","Activity",as.character(features$V2[extract_feat]))
#Merge Data
mergedData<-rbind(train_data, test_data)
#Melt data to creat unique variable, activity, and subject combinations
meltedData <- melt(mergedData, id= c("Subject","Activity"))
#cast the melted data to find the average for each variable
averageData <- dcast(meltedData,Subject~variable, mean)
averageData <- dcast(meltedData,Subject+Activity~variable, mean)
meltedData
train_data
#Read test Data
X_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/X_test.txt") #readings for each subject and activity for test group
y_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/y_test.txt") #activity for each test for the test group
subject_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/subject_test.txt") #the subjects for each test for the test group (9 people: 2,4,9,10,12,13,18,20,24)
#Read train Data
X_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/X_train.txt") #readings for each subject and activity for test group
y_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/y_train.txt") #activity for each test for the train group (6 activities)
subject_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/subject_train.txt") #the subjects for each test for the train group (21 people: 1,3,5-8,11,14-17,19,21-23,25-30)
#Read labels
features <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/features.txt") #561 features measured
activity_labels <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/activity_labels.txt") #6 Activities: WALKING, WALKING_UPSTAIRS, WALKING_DOWNSTAIRS, SITTING, STANDING, AND LAYING
#Extract only the features that use "mean" or "std" in their names
extract_feat <- grepl("mean | std", as.character(features$V2))
X_test <- X_test[extract_feat]
X_train <- X_train[extract_feat]
X_test
extract_feat
extract_feat <- grepl("mean" | "std", as.character(features$V2))
extract_feat <- grepl("mean|std", as.character(features$V2))
extract_feat
X_test <- X_test[extract_feat]
X_train <- X_train[extract_feat]
X_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/X_test.txt") #readings for each subject and activity for test group
y_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/y_test.txt") #activity for each test for the test group
subject_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/subject_test.txt") #the subjects for each test for the test group (9 people: 2,4,9,10,12,13,18,20,24)
#Read train Data
X_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/X_train.txt") #readings for each subject and activity for test group
y_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/y_train.txt") #activity for each test for the train group (6 activities)
subject_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/subject_train.txt") #the subjects for each test for the train group (21 people: 1,3,5-8,11,14-17,19,21-23,25-30)
#Read labels
features <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/features.txt") #561 features measured
activity_labels <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/activity_labels.txt") #6 Activities: WALKING, WALKING_UPSTAIRS, WALKING_DOWNSTAIRS, SITTING, STANDING, AND LAYING
#Extract only the features that use "mean" or "std" in their names
extract_feat <- grepl("mean|std", as.character(features$V2))
extract_feat
X_test <- X_test[extract_feat]
X_test
X_train <- X_train[extract_feat]
train_act_labels <- activity_labels$V2[y_train$V1]
test_act_labels <- activity_labels$V2[y_test$V1]
train_data <- cbind(subject_train,train_act_labels,X_train)
test_data <- cbind(subject_test,test_act_labels,X_test)
colnames(train_data) <- c("Subject","Activity",as.character(features$V2[extract_feat]))
colnames(test_data) <- c("Subject","Activity",as.character(features$V2[extract_feat]))
mergedData<-rbind(train_data, test_data)
head(mergedData)
meltedData <- melt(mergedData, id= c("Subject","Activity"))
meltedData
head(meltedData)
tail(meltedData)
head(meltedData,100)
averageData <- dcast(meltedData,Subject+Activity~variable, mean)
head(averageData)
?for
()
for(i in 1:(length(subject_train)+length(subject_test)))
print(i)
(length(subject_train)+length(subject_test)
)
subject_train
length(unique(subject_train$V1))
for(i in 1:(length(unique(subject_train$V1))+length(unique(subject_test$V1))))
print(i)
train_act_labels
length(activity_labels$V2)
for(j in 1:length(activity_labels$V2))
print(j)
"Subject" + 1 + ":" + " Acitivity"
print("Subject" + 1 + ":" + " Acitivity")
print("Subject",1,":"," Acitivity")
paste("Subject",1,":"," Acitivity")
for(i in 1:(length(unique(subject_train$V1))+length(unique(subject_test$V1))))
for(j in 1:length(activity_labels$V2))
labels<- c(labels,paste("Subject",i,":"," ", activity_labels$V2[j]))
dim(labels)
labels
meltedData
meltedData[Subject == 1]
meltedData[meltedData$Subject == 1]
[meltedData$Subject == 1]
meltedData$Subject == 1
dim(meltedData)
filter(meltedData, Subject == 1)
filter(meltedData, Subject == 1 && Activity == "LAYING")
?filter
filter(meltedData, Subject == 1 & Activity == "LAYING")
head(filter(meltedData, Subject == 1 & Activity == "LAYING"))
head(filter(meltedData, Subject == 1 & Activity == "LAYING" & variable == "tBodyAcc-mean()-X"))
filter(meltedData, Subject == 1 & Activity == "LAYING" & variable == "tBodyAcc-mean()-X")
mean((filter(meltedData, Subject == 1 & Activity == "LAYING" & variable == "tBodyAcc-mean()-X")$value))
head(averageData)
?write.table
write.csv(tidy_data, file = "./tidy_data.csv")
write.table(tidy_data, file = "./tidy_data.txt")
write.csv(averageData, file = "./tidy_data.csv")
library(reshape2)
#Read test Data
X_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/X_test.txt") #readings for each subject and activity for test group
y_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/y_test.txt") #activity for each test for the test group
subject_test <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/test/subject_test.txt") #the subjects for each test for the test group (9 people: 2,4,9,10,12,13,18,20,24)
#Read train Data
X_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/X_train.txt") #readings for each subject and activity for test group
y_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/y_train.txt") #activity for each test for the train group (6 activities)
subject_train <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/train/subject_train.txt") #the subjects for each test for the train group (21 people: 1,3,5-8,11,14-17,19,21-23,25-30)
#Read labels
features <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/features.txt") #561 features measured
activity_labels <- read.table("./getdata_projectfiles_UCI HAR Dataset/UCI HAR Dataset/activity_labels.txt") #6 Activities: WALKING, WALKING_UPSTAIRS, WALKING_DOWNSTAIRS, SITTING, STANDING, AND LAYING
#Extract only the features that use "mean" or "std" in their names
extract_feat <- grepl("mean|std", as.character(features$V2))
X_test <- X_test[extract_feat]
X_train <- X_train[extract_feat]
#Create Activity Labels
train_act_labels <- activity_labels$V2[y_train$V1]
test_act_labels <- activity_labels$V2[y_test$V1]
#Bind data
train_data <- cbind(subject_train,train_act_labels,X_train)
test_data <- cbind(subject_test,test_act_labels,X_test)
#label measurements
colnames(train_data) <- c("Subject","Activity",as.character(features$V2[extract_feat]))
colnames(test_data) <- c("Subject","Activity",as.character(features$V2[extract_feat]))
#Merge Data
mergedData<-rbind(train_data, test_data)
#Melt data to creat unique variable, activity, and subject combinations
meltedData <- melt(mergedData, id= c("Subject","Activity"))
#cast the melted data to find the average for each variable
averageData <- dcast(meltedData,Subject+Activity~variable, mean)
write.csv(averageData, file = "./tidy_data.csv")
averageData
---
title: "tidy_data"
author: "M2kanderson"
date: "September 26, 2015"
output: html_document
---
This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.
When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:
```{r}
summary(cars)
```
You can also embed plots, for example:
```{r, echo=FALSE}
plot(cars)
```
Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
summary(averageData)
head(averageData)
